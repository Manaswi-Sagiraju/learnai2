<!DOCTYPE html>
<html>
<head>
    <title>Courses</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <h1>Available Courses</h1>
    <div id="courses-container"></div>
    <div id="modules-container"></div>
    <div id="topics-container"></div>

    <script src="js/scripts.js"></script>
    <script>
        // Load courses
        fetchCourses().then(courses => {
            const container = document.getElementById("courses-container");
            courses.forEach(course => {
                const btn = document.createElement("button");
                btn.innerText = course.name;
                btn.onclick = async () => {
                    const modules = await fetchModules(course.id);
                    const moduleContainer = document.getElementById("modules-container");
                    moduleContainer.innerHTML = "<h2>Modules:</h2>";
                    modules.forEach(m => {
                        const modBtn = document.createElement("button");
                        modBtn.innerText = m.name;
                        modBtn.onclick = async () => {
                            const topics = await fetchTopics(m.id);
                            const topicContainer = document.getElementById("topics-container");
                            topicContainer.innerHTML = "<h3>Topics:</h3>";
                            topics.forEach(t => {
                                const tBtn = document.createElement("button");
                                tBtn.innerText = t.name;
                                tBtn.onclick = () => {
                                    window.location.href = `quiz.html?topic_id=${t.id}`;
                                };
                                topicContainer.appendChild(tBtn);
                            });
                        };
                        moduleContainer.appendChild(modBtn);
                    });
                };
                container.appendChild(btn);
            });
        });
    </script>
</body>
</html>
